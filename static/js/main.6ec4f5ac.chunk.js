(this["webpackJsonpreact-n-puzzle"]=this["webpackJsonpreact-n-puzzle"]||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/win.71069831.ogg"},15:function(e,t,n){e.exports=n(51)},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),l=n(2),i=n(3),s=n(11);function u(e){return JSON.parse(JSON.stringify(e))}function f(e,t){var n=e.findIndex((function(e){return e.indexOf(t)>-1}));return[n,e[n].indexOf(t)]}function m(e,t){var n=f(e,0),a=Object(i.a)(n,2),c=a[0],r=a[1],o=f(e,t),l=Object(i.a)(o,2),s=l[0],u=l[1];return Math.abs(c-s)+Math.abs(r-u)===1&&(e[c][r]=t,e[s][u]=0),e}function d(e){return m(e,(t=function(e,t){var n=[],a=f(e,t),c=Object(i.a)(a,2),r=c[0],o=c[1];return r>0&&n.push(e[r-1][o]),r<e.length-1&&n.push(e[r+1][o]),o>0&&n.push(e[r][o-1]),o<e[0].length-1&&n.push(e[r][o+1]),n}(e,0))[Math.floor(Math.random()*t.length)]);var t}function h(e,t){for(var n=[],a=function(e){n.push(Array.from({length:t},(function(n,a){return a+t*e+1})))},c=0;c<e;c++)a(c);return n[e-1][t-1]=0,n}function b(e){for(var t=0;t<e.length*Math.pow(e[0].length,2);t++)d(e);return e}var v=Object(l.atom)({key:"tilesState",default:b(h(4,4))}),g=Object(l.selector)({key:"isCompleteState",get:function(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e[0].length,a=0,c=0;a<t;a++)for(var r=0;r<n;r++){if(c++,0===e[a][r]&&c===t*n)return!0;if(e[a][r]!==c)return!1}return!0}((0,e.get)(v))}}),E=Object(l.selector)({key:"sizeState",get:function(e){var t=(0,e.get)(v),n=t.length,a=t[0].length;return{rows:n,cols:a,chips:n*a-1}}}),O=Object(l.selector)({key:"sortedTilesState",get:function(e){var t=(0,e.get)(v),n=[];return t.forEach((function(e,t){e.forEach((function(e,a){n[e]=[t,a]}))})),n}}),j=(n(47),function(){var e=Object(l.useRecoilState)(v),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(l.useRecoilState)(O),o=Object(i.a)(r,1)[0],s=Object(l.useRecoilState)(E),f=Object(i.a)(s,1)[0];return c.a.createElement("div",{className:"board-wrapper"},c.a.createElement("svg",{className:"board",width:"100%",height:"100%",viewBox:"0 0 ".concat(24*f.cols," ").concat(24*f.rows),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.map((function(e,t){return 0===t?null:c.a.createElement("g",{className:"tile",onClick:function(){return a(m(u(n),t))},key:t,transform:"translate(".concat(24*e[1]+1,", ").concat(24*e[0]+1,")")},c.a.createElement("rect",{height:"22",width:"22",strokeWidth:"0",x:"1",y:"1"}),c.a.createElement("text",{x:12,y:12,alignmentBaseline:"central",textAnchor:"middle"},t))}))))}),w=n(14),p=n.n(w),k=(n(48),function(){var e=Object(a.useRef)();Object(a.useEffect)((function(){e.current.play()}),[]);var t=Object(l.useRecoilState)(v),n=Object(i.a)(t,2),r=n[0],o=n[1];return c.a.createElement("div",{className:"congrats"},c.a.createElement("div",{className:"congrats-star"}),c.a.createElement("div",{className:"congrats-header"},"You did it!"),c.a.createElement("audio",{src:p.a,ref:e}),c.a.createElement("div",{className:"congrats-controls"},c.a.createElement("a",{href:"#",alt:"Play again!",onClick:function(){return o(b(u(r)))}},"Play again!")))}),S=(n(49),function(e){var t=e.rows,n=void 0!==t&&t,a=e.cols,r=void 0!==a&&a,o=e.direction,s=Object(l.useRecoilState)(v),u=Object(i.a)(s,2),f=(u[0],u[1]),m=Object(l.useRecoilState)(E),d=Object(i.a)(m,1)[0];return c.a.createElement("button",{className:"btn btn-outline",title:"".concat(o>0?"More":"Less"," ").concat(n?"rows":"columns"),onClick:function(){var e=Math.max(2,d.rows+(n?o:0)),t=Math.max(2,d.cols+(r?o:0));f(b(h(e,t)))}},o>0?"+":"-")}),y=function(){var e=Object(l.useRecoilState)(v),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(l.useRecoilState)(E),s=Object(i.a)(o,1)[0],d=function(e){var t,a=e.keyCode,c=f(n,0),o=Object(i.a)(c,2),l=o[0],d=o[1];37===a&&d<s.cols-1?t=n[l][d+1]:38===a&&l<s.rows-1?t=n[l+1][d]:39===a&&d>0?t=n[l][d-1]:40===a&&l>0&&(t=n[l-1][d]),t&&r(m(u(n),t))};return Object(a.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}})),c.a.createElement("div",{className:"controls"},c.a.createElement("div",{className:"rows-controls"},"Rows",c.a.createElement(S,{rows:!0,direction:-1}),c.a.createElement(S,{rows:!0,direction:1})),c.a.createElement("div",{className:"cols-controls"},"Columns",c.a.createElement(S,{cols:!0,direction:-1}),c.a.createElement(S,{cols:!0,direction:1})),c.a.createElement("div",{className:"aside-controls"},c.a.createElement("button",{className:"btn btn-shuffle",title:"Shuffle",onClick:function(){return r(b(u(n)))}})))},x=(n(50),function(){var e=Object(l.useRecoilState)(g),t=Object(i.a)(e,1)[0],n=Object(l.useRecoilState)(E),a=Object(i.a)(n,1)[0];return c.a.createElement("main",null,c.a.createElement(s.a,null,c.a.createElement("title",null,"".concat(a.chips,"-puzzle"))),!t&&c.a.createElement(y,null),t?c.a.createElement(k,null):c.a.createElement(j,null))});o.a.render(c.a.createElement(l.RecoilRoot,null,c.a.createElement(x,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.6ec4f5ac.chunk.js.map