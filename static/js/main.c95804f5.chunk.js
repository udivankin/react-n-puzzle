(this["webpackJsonpreact-n-puzzle"]=this["webpackJsonpreact-n-puzzle"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/win.71069831.ogg"},16:function(e,t,a){e.exports=a(53)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),o=a.n(r),l=a(1),i=a(2),u=a(12),s=a(8);function f(e){return JSON.parse(JSON.stringify(e))}function m(e,t){return Array.from({length:Math.abs(e-t)},(function(a,n){return e+n*(e>t?-1:1)}))}function d(e){return e[Math.floor(Math.random()*e.length)]}function v(e,t){var a=e.findIndex((function(e){return e.indexOf(t)>-1}));return[a,e[a].indexOf(t)]}function h(e,t){var a=v(e,0),n=Object(i.a)(a,2),c=n[0],r=n[1],o=v(e,t),l=Object(i.a)(o,2),u=l[0],s=l[1],f=0;if(c!==u&&r!==s)return[e,f];if(c===u){var d=r<s?1:-1;m(r,s).forEach((function(t){var a=[e[c][t+d],e[c][t]];e[c][t]=a[0],e[c][t+d]=a[1],f+=1}))}else{var h=c<u?1:-1;m(c,u).forEach((function(t){var a=[e[t+h][r],e[t][r]];e[t][r]=a[0],e[t+h][r]=a[1],f+=1}))}return[e,f]}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.round(Math.random()),a=v(e,0),n=Object(i.a)(a,2),c=n[0],r=n[1],o=d(0===t?e[c].filter((function(e){return 0!==e})):e.map((function(e){return e[r]})).filter(Boolean));return h(e,o)}function g(e,t){for(var a=[],n=function(e){a.push(Array.from({length:t},(function(a,n){return n+t*e+1})))},c=0;c<e;c++)n(c);return a[e-1][t-1]=0,a}function E(e){for(var t=0;t<e.length*Math.pow(e[0].length,2);t++)b(e);return O(e)?b(e)[0]:e}function O(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e[0].length,n=0,c=0;n<t;n++)for(var r=0;r<a;r++){if(c++,0===e[n][r]&&c===t*a)return!0;if(e[n][r]!==c)return!1}return!0}var j=Object(l.atom)({key:"tilesState",default:E(g(4,4))}),p=Object(l.atom)({key:"gameState",default:{moves:0,gameId:Symbol("gameState")}}),S=Object(l.selector)({key:"isCompleteState",get:function(e){return O((0,e.get)(j))}}),w=Object(l.selector)({key:"sizeState",get:function(e){var t=(0,e.get)(j),a=t.length,n=t[0].length;return{rows:a,cols:n,chips:a*n-1}}}),y=Object(l.selector)({key:"sortedTilesState",get:function(e){var t=(0,e.get)(j),a=[];return t.forEach((function(e,t){e.forEach((function(e,n){a[e]=[t,n]}))})),a}}),x=(a(48),function(){var e=Object(l.useRecoilState)(p),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(l.useRecoilState)(j),u=Object(i.a)(o,2),m=u[0],d=u[1],b=Object(l.useRecoilState)(y),g=Object(i.a)(b,1)[0],E=Object(l.useRecoilState)(w),O=Object(i.a)(E,1)[0],S=function(e){var t=h(f(m),e),n=Object(i.a)(t,2),c=n[0],o=n[1];r(Object(s.a)(Object(s.a)({},a),{},{moves:a.moves+o})),d(c)},x=function(e){var t,a=e.keyCode,n=v(m,0),c=Object(i.a)(n,2),r=c[0],o=c[1];37===a&&o<O.cols-1?t=m[r][o+1]:38===a&&r<O.rows-1?t=m[r+1][o]:39===a&&o>0?t=m[r][o-1]:40===a&&r>0&&(t=m[r-1][o]),t&&S(t)};return Object(n.useEffect)((function(){return document.addEventListener("keydown",x),function(){document.removeEventListener("keydown",x)}})),c.a.createElement("div",{className:"board-wrapper"},c.a.createElement("svg",{className:"board",width:"100%",height:"100%",viewBox:"0 0 ".concat(24*O.cols," ").concat(24*O.rows),xmlns:"http://www.w3.org/2000/svg"},g.map((function(e,t){return 0===t?null:c.a.createElement("g",{className:"tile",onClick:function(){return S(t)},key:t,transform:"translate(".concat(24*e[1],", ").concat(24*e[0],")")},c.a.createElement("rect",{height:"22",width:"22",strokeWidth:"0",x:"1",y:"1"}),c.a.createElement("text",{fontSize:"12",transform:"translate(12, 16)",textAnchor:"middle"},t))}))))}),k=a(15),R=a.n(k),N=(a(49),function(){var e=Object(n.useRef)();Object(n.useEffect)((function(){e.current.play()}),[]);var t=Object(l.useRecoilState)(j),a=Object(i.a)(t,2),r=a[0],o=a[1],u=Object(l.useRecoilState)(p),s=Object(i.a)(u,2)[1];return c.a.createElement("div",{className:"congrats"},c.a.createElement("div",{className:"congrats-star"}),c.a.createElement("div",{className:"congrats-header"},"You did it!"),c.a.createElement("audio",{src:R.a,ref:e}),c.a.createElement("div",{className:"congrats-controls"},c.a.createElement("a",{href:"#",alt:"Play again!",onClick:function(){o(E(f(r))),s({moves:0,gameId:Symbol("gameId")})}},"Play again!")))}),M=(a(50),function(e){var t=e.rows,a=void 0!==t&&t,n=e.cols,r=void 0!==n&&n,o=e.direction,u=e.shuffle,s=Object(l.useRecoilState)(j),f=Object(i.a)(s,2)[1],m=Object(l.useRecoilState)(w),d=Object(i.a)(m,1)[0],v=Object(l.useRecoilState)(p),h=Object(i.a)(v,2)[1];return c.a.createElement("svg",{className:"btn",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onClick:function(){var e=Math.max(2,d.rows+(a?o:0)),t=Math.max(2,d.cols+(r?o:0));f(E(g(e,t))),h({moves:0,gameId:Symbol("gameId")})}},u?c.a.createElement("circle",{cx:"12",cy:"12",fill:"#0dad8a",r:"11"}):c.a.createElement("circle",{cx:"12",cy:"12",fill:"#fff",fillOpacity:"0.1",r:"11",strokeWidth:"0.5",stroke:"#fff"}),u?c.a.createElement("g",{fill:"#fff"},c.a.createElement("path",{d:"M6.59 9.49h2.43c.51 0 .97.27 1.29.68.22-.4.5-.8.82-1.15a2.95 2.95 0 00-2.11-.93H6.59a.7.7 0 100 1.4zm5.34 2.15c.38-1.15 1.56-2.15 2.53-2.15h1.28l-.9.89a.7.7 0 10.97.98L18.4 8.8l-2.57-2.57a.7.7 0 10-.98.98l.9.9h-1.28c-1.58 0-3.27 1.36-3.85 3.1l-.33.99c-.45 1.33-1.44 2.15-1.95 2.15H6.58a.7.7 0 100 1.4h1.75c1.28 0 2.69-1.34 3.28-3.12l.32-.98z"}),c.a.createElement("path",{d:"M15 12.47a.7.7 0 000 .98l.9.9h-1.63a2 2 0 01-1.88-1.47 6.36 6.36 0 01-.75 1.52 3.3 3.3 0 002.63 1.34h1.62l-.9.89a.7.7 0 10.98.98l2.58-2.57-2.57-2.57a.7.7 0 00-.99 0z"})):c.a.createElement("text",{textAnchor:"middle",fontSize:"9",fontWeight:"bold",transform:"translate(12, 15.5)",fill:"#fff"},o>0?"+":"-"))}),z=function(){return c.a.createElement("div",{className:"controls"},c.a.createElement("div",{className:"rows-controls"},"Rows",c.a.createElement(M,{rows:!0,direction:-1}),c.a.createElement(M,{rows:!0,direction:1})),c.a.createElement("div",{className:"cols-controls"},"Columns",c.a.createElement(M,{cols:!0,direction:-1}),c.a.createElement(M,{cols:!0,direction:1})),c.a.createElement("div",{className:"aside-controls"},c.a.createElement(M,{shuffle:!0})))},I=(a(51),function(){var e=Object(l.useRecoilState)(p),t=Object(i.a)(e,1)[0],a=Object(n.useState)(t.gameId),r=Object(i.a)(a,2),o=r[0],u=r[1],s=Object(n.useState)(0),f=Object(i.a)(s,2),m=f[0],d=f[1];return t.gameId!==o&&(d(0),u(t.gameId)),Object(n.useEffect)((function(){var e=setInterval((function(){d((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[]),c.a.createElement("span",null,"Time: ",function(e){var t=Math.floor(e/3600);return[t,Math.floor((e-3600*t)/60),e%60].map((function(e){return String(e).padStart(2,"0")})).join(":")}(m))}),C=function(){var e=Object(l.useRecoilState)(p),t=Object(i.a)(e,1)[0];return c.a.createElement("span",null,"Moves: ",t.moves)},A=function(){return c.a.createElement("div",{className:"stats"},c.a.createElement(C,null),c.a.createElement(I,null))},B=(a(52),function(){var e=Object(l.useRecoilState)(S),t=Object(i.a)(e,1)[0],a=Object(l.useRecoilState)(w),n=Object(i.a)(a,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,null,c.a.createElement("title",null,"".concat(n.chips,"-puzzle"))),!t&&c.a.createElement(z,null),t?c.a.createElement(N,null):c.a.createElement(x,null),!t&&c.a.createElement(A,null))});o.a.render(c.a.createElement(l.RecoilRoot,null,c.a.createElement(B,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.c95804f5.chunk.js.map